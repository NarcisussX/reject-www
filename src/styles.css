@import "tailwindcss";

/* ---------- CRT theme variables ---------- */
:root{
  --crt-green: #27f376;
  --crt-grid: rgba(39,243,118,.08);
  --crt-border: rgba(39,243,118,.35);
  --crt-border-soft: rgba(39,243,118,.22);
  --crt-text-soft: rgba(167, 255, 204, .85);
  --crt-glow: 0 0 6px rgba(39,243,118,.7), 0 0 18px rgba(39,243,118,.18);
}

html, body, #root { min-height: 100%; height: auto; }
body { background:#000; color: var(--crt-green); }

/* subtle vignette + halo so the bg isn’t flat black */
body::before{
  content:"";
  position: fixed;
  inset: -20vmax;
  background:
    radial-gradient(1200px 700px at 60% -10%, rgba(39,243,118,.08), transparent 60%),
    radial-gradient(800px 600px at 15% 120%, rgba(39,243,118,.05), transparent 65%);
  pointer-events:none;
  z-index:-1;
  filter: saturate(120%);
}

/* ---------- Global CRT effects ---------- */
@keyframes crt-flicker { 0%,100%{opacity:.98} 50%{opacity:.94} }
@keyframes scanlines { to { background-position:0 -3px; } }

.screen{
  position:relative; width:100%; min-height:100dvh;
  animation: crt-flicker 8s infinite;
}

/* scanlines + vignette */
.screen::before{
  content:""; position:fixed; inset:0;
  background:
    repeating-linear-gradient(0deg, rgba(0,255,150,.045) 0 1px, transparent 2px 3px);
  mix-blend-mode: overlay; pointer-events:none; z-index:10;
  animation: scanlines 4s linear infinite;
}
.screen::after{
  content:""; position:fixed; inset:0;
  background: radial-gradient(80% 60% at 50% 50%, transparent 40%, rgba(0,0,0,.35) 95%);
  pointer-events:none; z-index:9;
}

.glow{ text-shadow: var(--crt-glow); }

/* ---------- Layout frames ---------- */
.wrap{ position:relative; padding:24px; }
.container{
  max-width: 980px; margin: 0 auto;
  display:grid; grid-template-rows:auto 1fr auto; gap:16px; min-height: calc(100dvh - 48px);
}
.header{ border-bottom:1px solid var(--crt-border-soft); padding-bottom:8px; }
.footer{
  display:flex; justify-content:space-between; gap:16px; flex-wrap:wrap;
  border-top:1px solid var(--crt-border-soft); padding:18px 0; color: var(--crt-text-soft);
}

/* keep your page content from hugging the edges */
.content{ padding-top: 6px; }

/* ---------- Panels / cards ---------- */
.panel{
  background: linear-gradient(180deg, rgba(0,0,0,.6), rgba(0,0,0,.35));
  border: 1px solid var(--crt-border);
  border-radius: 6px;
  box-shadow: 0 0 0 1px rgba(39,243,118,.06) inset, 0 8px 40px rgba(39,243,118,.05);
  padding:16px;
}

/* badge line in headers */
.badge{ font-size:.9rem; letter-spacing:.08em; color: var(--crt-text-soft); }

/* ---------- Forms: inputs / buttons ---------- */
input, textarea{
  @apply w-full bg-black text-[rgb(160,255,210)];
  border:1px solid var(--crt-border); border-radius:6px; padding:.6rem .75rem;
  outline:none;
}
input:focus, textarea:focus{ box-shadow: 0 0 0 2px rgba(39,243,118,.25); border-color: var(--crt-green); }

button{
  @apply font-bold;
  background: var(--crt-green); color:#05150b;
  border:1px solid var(--crt-green);
  border-radius:6px; padding:.5rem .9rem;
  box-shadow: 0 0 18px rgba(39,243,118,.2);
}
button:hover{ filter: brightness(1.02); }
button.ghost{
  background: transparent; color: var(--crt-green);
  border-color: var(--crt-border);
}
button.ghost:hover{ background: rgba(39,243,118,.08); }

/* ---------- Matrix background helper ---------- */
.matrix{ position:absolute; inset:0; pointer-events:none; z-index:0; opacity:.25; }
.matrix pre{ position:absolute; top:-120%; left:0; right:0; white-space:pre-wrap; padding:0 24px; }
@keyframes matrixScroll { to { transform: translateY(220%); } }
.matrix .rain{ animation: matrixScroll 14s linear infinite; }

/* ---------- Terminal block ---------- */
.term{
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  color: var(--crt-text-soft);
  overflow:auto; max-height: 220px; border-left:2px solid var(--crt-green);
  padding-left:12px;
}
.term .row::before{ content:"> "; color: var(--crt-green); }
.blink{ animation: blink 1.3s step-end infinite; }
@keyframes blink { 50%{ opacity: 0 } }

/* ---------- Grids specific to JCode ---------- */
.grid{
  display:grid; grid-template-columns: 1fr; gap:16px;
}
@media (min-width: 900px){
  .grid{ grid-template-columns: 1fr 1fr; }
}

/* ransom panel layout */
.ransom .kv{
  display:grid; grid-template-columns: 1fr 1fr; gap:12px; align-items:center;
}
.ransom .btns{ display:flex; flex-wrap:wrap; gap:10px; margin-top:12px; }

/* compact 2-col grid inside modals */
.grid2{
  display:grid; grid-template-columns: 1fr 1fr; gap:12px; align-items:end;
}

/* ---------- Modals ---------- */
.modalOverlay{
  position: fixed; inset:0; background: rgba(0,0,0,.8);
  display:flex; align-items:center; justify-content:center; padding:16px; z-index:50;
}
.modal{
  width:100%; max-width: 640px; background: #040b07;
  border:1px solid var(--crt-border); border-radius:8px;
  box-shadow: 0 0 24px rgba(39,243,118,.12), 0 0 0 1px rgba(39,243,118,.05) inset;
  padding:16px;
}
.modal header{ margin-bottom:10px; }
.modal footer{ margin-top:14px; display:flex; justify-content:flex-end; gap:10px; }

/* ---------- Small helpers ---------- */
.text-soft{ color: var(--crt-text-soft); }

/* ===== GLOBAL CRT + MATRIX OVERLAYS (no component changes needed) ===== */

/* Stronger glow helpers (optional) */
.crt-glow { text-shadow: 0 0 6px rgba(39,243,118,.75), 0 0 22px rgba(39,243,118,.25); }

/* Scanlines across the whole app */
@keyframes crt-scanlines { to { background-position: 0 -3px; } }
body::after{
  content:"";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 3; /* above bg & matrix, below header (which is sticky) */
  opacity: .17;
  background:
    repeating-linear-gradient(0deg, rgba(0,255,120,.055) 0 1px, transparent 2px 4px);
  animation: crt-scanlines 4s linear infinite;
}

/* Subtle vignette/halo (if you already have one, this just reinforces it) */
body::before{
  content:"";
  position: fixed;
  inset: -15vmax;
  pointer-events: none;
  z-index: 1;
  background:
    radial-gradient(1100px 600px at 55% -8%, rgba(39,243,118,.13), transparent 60%),
    radial-gradient(900px 500px at 10% 115%, rgba(39,243,118,.08), transparent 65%);
  filter: saturate(115%);
}

/* Fullscreen canvas background (under content, above pure bg) */
.matrix-canvas{
  position: fixed;
  inset: 0;
  width: 100vw;
  height: 100vh;
  pointer-events: none;
  z-index: 2;          /* body::after scanlines can stay at 3 */
  opacity: .22;        /* tweak .18–.28 to taste */
  mix-blend-mode: screen;
}


/* Tiny cursor blink utility you can use anywhere */
.crt-cursor { display:inline-block; width:.6ch; animation: blink 1.1s steps(1,end) infinite; }
@keyframes blink { 0%,49%{opacity:1} 50%,100%{opacity:0} }

